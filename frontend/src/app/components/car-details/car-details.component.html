<!-- src/app/components/car-details/car-details.component.html -->
<div class="car-details-container">
  <div class="car-details-content">
    <!-- Chargement -->
    <div *ngIf="isLoading" class="loading">
      <div class="spinner"></div>
      <p>Chargement des d√©tails du v√©hicule...</p>
    </div>

    <!-- D√©tails du v√©hicule -->
    <div *ngIf="!isLoading && car" class="car-details-card">
      <!-- Image principale -->
      <div class="car-main-image">
        <img
          [src]="'http://localhost:8080' + car.imageUrl"
          [alt]="car.model"
          (error)="onImageError($event)"
        />
      </div>

      <!-- Informations d√©taill√©es -->
      <div class="car-info-section">
        <div class="car-basic-info">
          <h1>{{ car.brand }} {{ car.model }}</h1>
          <p class="car-year-color">{{ car.year }} ‚Ä¢ {{ car.color }}</p>
          <div class="car-price-tag">
            <span class="price">{{ car.price | currency:'USD':'symbol':'1.0-0' }}</span>
            <span class="price-label">/jour</span>
          </div>
        </div>

        <!-- Sp√©cifications -->
        <div class="specifications-grid">
          <div class="spec-item">
            <div class="spec-icon">‚õΩ</div>
            <div class="spec-content">
              <span class="spec-label">Carburant</span>
              <span class="spec-value">{{ car.fuelType }}</span>
            </div>
          </div>

          <div class="spec-item">
            <div class="spec-icon">‚öôÔ∏è</div>
            <div class="spec-content">
              <span class="spec-label">Transmission</span>
              <span class="spec-value">{{ car.transmission }}</span>
            </div>
          </div>

          <div class="spec-item">
            <div class="spec-icon">üõ£Ô∏è</div>
            <div class="spec-content">
              <span class="spec-label">Kilom√©trage</span>
              <span class="spec-value">{{ car.mileage | number }} km</span>
            </div>
          </div>

          <div class="spec-item">
            <div class="spec-icon">üìä</div>
            <div class="spec-content">
              <span class="spec-label">Status</span>
              <span class="spec-value status-{{car.status?.toLowerCase()}}">{{ car.status }}</span>
            </div>
          </div>
        </div>

        <!-- Description -->
        <div class="description-section">
          <h3>Description</h3>
          <p>{{ car.description || 'D√©couvrez ce v√©hicule exceptionnel alliant performance et √©l√©gance. Parfait pour toutes vos occasions sp√©ciales ou pour simplement profiter du luxe au quotidien.' }}</p>
        </div>

        <!-- QR Code -->
        <div class="qr-code-section">
          <h3>QR Code du v√©hicule</h3>
          <div class="qr-code-container">
            <img
              [src]="qrCode"
              alt="QR Code"
              *ngIf="qrCode; else loadingQr"
            />
            <ng-template #loadingQr>
              <div class="qr-placeholder">
                <div class="qr-spinner"></div>
                <p>G√©n√©ration du QR code...</p>
              </div>
            </ng-template>
          </div>
        </div>

        <!-- Actions -->
        <div class="action-buttons">
          <button (click)="addToCart()" class="add-to-cart-btn">
            <span class="btn-icon">üõí</span>
            Ajouter au panier
          </button>
        </div>
      </div>
    </div>

    <!-- V√©hicule non trouv√© -->
    <div *ngIf="!isLoading && !car" class="not-found">
      <div class="not-found-content">
        <h2>V√©hicule non trouv√©</h2>
        <p>Le v√©hicule que vous recherchez n'existe pas ou n'est plus disponible.</p>
        <a routerLink="/gallery" class="back-to-gallery-btn">Retour √† la galerie</a>
      </div>
    </div>
  </div>
</div>